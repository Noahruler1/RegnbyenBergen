<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="Css/RegnByen.css">
  <title> Regnbyen Bergen</title>
  <style>

  </style>
</head>
<body>
  <form id="orderForm">

    <h4>Velkommen til</h4>
    <h1>Regnbyen Bergens Butikk</h1>
    <header class="topbar">
  <div class="container">
    <a href="RegnbyenMain.html" class="logo">
      <img src="Bilder/Logo.png" class="icon">
       
      </svg>
      <span>Regnbyen Bergen</span>
    </a>

    <nav class="nav">
      <a href="BoBergen.html">Bo I bergen</a>
      <a href="OmOss.html">Om Oss</a>
      <a href="Butikk.html">Butikk</a>
      <a href="kontakt.html">Kontakt</a>
    </nav>
  </div>
</header>

    <div id="bookList"></div>
    <div class="summary">
      <p><strong>Total:</strong> <span id="totalPrice">0</span> kr</p>
      <p id="shippingInfo">Legg til bøker for å se fraktinformasjon.</p>
    </div>
    <button type="button" onclick="orderBooks()">Bestill nå</button>
  </form>

  <script>
    const books = [
      { id: "A", title: "RegnJakke", price: 299, img: "" },
      { id: "B", title: "Paraply", price: 150, img: "" },
      { id: "C", title: "gule Støvler", price: 230, img: "" },
      { id: "D", title: "Fantoft weed", price: 340, img: "" },
      { id: "E", title: "Regnbukse", price: 199, img: "" }
    ];

    const bookList = document.getElementById("bookList");
    const totalPriceEl = document.getElementById("totalPrice");
    const shippingInfoEl = document.getElementById("shippingInfo");


    books.forEach(book => {
      const div = document.createElement("div");
      div.className = "book-item";

      const img = document.createElement("img");
      img.src = book.img;
      img.alt = book.title;

      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.id = book.id;
      checkbox.value = book.price;
      checkbox.addEventListener("change", updateTotal);

      const label = document.createElement("label");
      label.setAttribute("for", book.id);
      label.textContent = `${book.title} - ${book.price} kr`;

      div.appendChild(img);
      div.appendChild(checkbox);
      div.appendChild(label);
      bookList.appendChild(div);
    });

    function updateTotal() {
      let sum = 0;
      books.forEach(book => {
        const checkbox = document.getElementById(book.id);
        if (checkbox.checked) sum += book.price;
      });

      totalPriceEl.textContent = sum;

      if (sum > 500) {
        shippingInfoEl.textContent = "Du får gratis frakt!";
      } else {
        shippingInfoEl.textContent = "Frakt: 50 kr (gratis ved kjøp over 500 kr).";
      }
      return sum;
    }

    function orderBooks() {
      const total = updateTotal();
      if (total === 0) {
        alert("Du må velge minst én bok før du kan bestille.");
        return;
      }
      const finalPrice = total > 500 ? total : total + 50;
      alert(`Takk for bestillingen! Totalsum: ${finalPrice} kr`);
    }
  </script>
</body>
</html>
